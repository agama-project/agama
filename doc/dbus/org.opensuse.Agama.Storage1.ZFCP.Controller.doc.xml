<!DOCTYPE node PUBLIC "-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
"http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node>
  <!--
    org.opensuse.Agama.Storage1.ZFCP.Controller:
    @short_description: Interface for managing a zFCP controller

    see https://www.ibm.com/docs/en/linux-on-systems?topic=cd-manually-configured-fcp-luns-1
  -->
  <interface name="org.opensuse.Agama.Storage1.ZFCP.Controller">
    <!--
      GetWWPNs:
      @result: E.g., 0x500507630300c562 0x500507630300c563
      Gets the list of WWPNs (World Wide Port Name)
    -->
    <method name="GetWWPNs">
      <arg name="result" direction="out" type="as"/>
    </method>

    <!--
      GetLUNs:
      @result: E.g., 0x4010403300000000 0x4010403300000001 0x4010403300000002
      @wwpn: E.g., 0x500507630300c562

      Gets the list of LUNs (Local Unit Number)
    -->
    <method name="GetLUNs">
      <arg name="wwpn" direction="in" type="s"/>
      <arg name="result" direction="out" type="as"/>
    </method>

    <!--
      Activate:
      @result: Exit code of the chzdev command.

      Activates the zFCP controller.

      If allow_lun_scan is active, then all LUNs are automatically activated.
    -->
    <method name="Activate">
      <arg name="result" direction="out" type="u"/>
    </method>

    <!--
      ActivateDisk:
      @wwpn: E.g., 0x500507630300c562
      @lun: E.g., 0x4010403300000000
      @result: Exit code of the chzdev command.

      Activates a zFCP disk.
    -->
    <method name="ActivateDisk">
      <arg name="wwpn" direction="in" type="s"/>
      <arg name="lun" direction="in" type="s"/>
      <arg name="result" direction="out" type="u"/>
    </method>

    <!--
      DeactivateDisk:
      @wwpn: E.g., 0x500507630300c562
      @lun: E.g., 0x4010403300000000
      @result: Exit code of the chzdev command.

      Deactivates a zFCP disk.

      If "allow_lun_scan" is active, then the disk cannot be deactivated.
    -->
    <method name="DeactivateDisk">
      <arg name="wwpn" direction="in" type="s"/>
      <arg name="lun" direction="in" type="s"/>
      <arg name="result" direction="out" type="u"/>
    </method>

    <!--
      Active:
      Whether the controller is active.
    -->
    <property type="b" name="Active" access="read"/>

    <!--
      LUNScan:
      Whether the controller is performing auto LUN scan.
    -->
    <property type="b" name="LUNScan" access="read"/>

    <!--
      Channel:
      zFCP channel id (e.g., 0.0.fa00).
    -->
    <property type="s" name="Channel" access="read"/>
  </interface>
</node>
