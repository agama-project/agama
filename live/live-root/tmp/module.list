# modules that _might_ be useful during installation
#
# Lines starting with '-' specify modules to drop.
# The lines below are actually perl regexps, so be careful.
#
# If a module is specified both to be added and dropped, it is dropped.
#
# Arch-dependend blocks start with <ARCH> and end with </ARCH> (on separate lines).
#
kernel/drivers/base/
kernel/drivers/block/
-kernel/drivers/block/paride
kernel/drivers/cdrom/cdrom.ko
kernel/drivers/cdrom/viocd.ko
kernel/drivers/i2o/
kernel/drivers/ide/
kernel/drivers/ata/
#-kernel/drivers/ata/pata_
kernel/drivers/firewire/
kernel/drivers/input/
-kernel/drivers/input/joystick
-kernel/drivers/input/gameport
kernel/drivers/iseries/
kernel/drivers/md/
kernel/drivers/mmc/
kernel/drivers/net/
-kernel/drivers/net/aironet
-kernel/drivers/net/appletalk/
-kernel/drivers/net/arcnet/
-kernel/drivers/net/hamradio/
-kernel/drivers/net/irda/
-kernel/drivers/net/ppp/
-kernel/drivers/net/wan/
-kernel/drivers/net/ppp_async.ko
kernel/drivers/net/rionet.ko
kernel/drivers/dca/
kernel/drivers/parport/
-kernel/drivers/parport/parport_serial.ko
kernel/drivers/pnp/
kernel/drivers/scsi/
-kernel/drivers/scsi/ses.ko
kernel/drivers/usb/common/
kernel/drivers/usb/storage/
kernel/drivers/usb/host/
kernel/drivers/usb/core/
kernel/drivers/usb/net/
kernel/drivers/usb/serial/
kernel/drivers/usb/input/usbhid.ko
kernel/drivers/hid/
-kernel/drivers/hid/hid-prodikeys.ko
kernel/drivers/char/nvram.ko
kernel/drivers/char/agp/
kernel/drivers/message/fusion/
kernel/drivers/message/i2o/
kernel/drivers/ps3/
kernel/drivers/mtd/devices/ps3vram.ko
kernel/drivers/mtd/mtd.ko
kernel/drivers/mtd/mtd_blkdevs.ko
kernel/drivers/mtd/mtdblock.ko
kernel/drivers/misc/ioc4.ko
kernel/drivers/ssb/
kernel/drivers/leds/led-class.ko
kernel/drivers/mmc/core/

kernel/fs/9p/
kernel/fs/autofs4/
kernel/fs/binfmt_misc.ko
kernel/fs/btrfs/
kernel/fs/cifs/
kernel/fs/configfs/
kernel/fs/cramfs/
kernel/fs/dmapi/
kernel/fs/efivarfs/
kernel/fs/exfat/
kernel/fs/exofs/libore.ko
kernel/fs/exportfs/
kernel/fs/ext2/
kernel/fs/ext3/
kernel/fs/ext4/
kernel/fs/fat/
kernel/fs/fscache/
kernel/fs/fuse/
kernel/fs/hfs/
kernel/fs/hfsplus/
kernel/fs/hpfs/
kernel/fs/isofs/
kernel/fs/jbd/
kernel/fs/jbd2/
kernel/fs/jfs/
kernel/fs/lockd/
kernel/fs/mbcache.ko
kernel/fs/ncpfs/
kernel/fs/nfs/
kernel/fs/nfs_common/
kernel/fs/nfsd/
kernel/fs/nls/
kernel/fs/ntfs/
kernel/fs/overlayfs/
kernel/fs/smb/
kernel/fs/smbfs/
kernel/fs/squashfs/
kernel/fs/udf/
kernel/fs/vboxsf/
kernel/fs/vfat/
kernel/fs/xfs/

kernel/net/9p/
kernel/net/sunrpc/sunrpc.ko
kernel/net/sunrpc/auth_gss/auth_rpcgss.ko
kernel/net/packet/
kernel/net/rfkill/rfkill.ko
kernel/net/iucv/
kernel/net/ipv6/ipv6.ko
kernel/net/ipv4/gre.ko
kernel/net/ieee80211/
kernel/net/mac80211/mac80211.ko
kernel/net/mac80211/rc80211_simple.ko
kernel/net/wireless/
kernel/net/wimax/
kernel/net/ceph/
kernel/net/802/tr.ko
kernel/net/802/fddi.ko
kernel/net/phonet/phonet.ko
kernel/net/ieee802154/ieee802154.ko
kernel/net/mac802154/
kernel/net/dsa/dsa_core.ko
kernel/net/ipv4/ip_tunnel.ko
kernel/net/dns_resolver/dns_resolver.ko
kernel/net/ipv4/inet_lro.ko
kernel/net/8021q/
kernel/net/802/garp.ko
kernel/net/802/stp.ko
kernel/net/802/mrp.ko
kernel/net/llc/
kernel/net/qrtr

kernel/drivers/power/power_supply.ko
kernel/drivers/firmware/
kernel/drivers/acpi/
kernel/drivers/char/ipmi/
kernel/drivers/video/backlight/
kernel/drivers/mfd/
kernel/drivers/cpufreq/
kernel/arch/x86/kernel/
kernel/drivers/platform/
kernel/drivers/pci/hotplug/pci_hotplug.ko
kernel/sound/soundcore.ko
kernel/sound/core/snd.ko
kernel/drivers/hwmon/hwmon.ko
kernel/drivers/thermal/thermal_sys.ko

# kernel pcmcia
# see data/initrd/initrd_base.list
/pcmcia/
-kernel/drivers/char/pcmcia/synclink_cs.ko
-/sound/pcmcia/

kernel/lib/
kernel/arch/ia64/sn/kernel
kernel/drivers/sn
extra/megaide.ko

kernel/arch/s390/
kernel/drivers/s390/

kernel/crypto/
kernel/arch/[^/]*/crypto/
kernel/drivers/crypto/geode-aes.ko

kernel/drivers/video/vga16fb.ko
kernel/drivers/video/vgastate.ko
kernel/drivers/video/output.ko
kernel/drivers/video/fb_sys_fops.ko
kernel/drivers/video/sysimgblt.ko
kernel/drivers/video/sysfillrect.ko
kernel/drivers/video/syscopyarea.ko
kernel/drivers/video/fbdev/core/

kernel/arch/i386/kernel/msr.ko

kernel/drivers/xen/blkfront/
kernel/drivers/xen/netfront/
kernel/drivers/xen/core/
kernel/drivers/xen/xen-scsiback.ko
kernel/drivers/video/fbdev/xen-fbfront.ko

kernel/drivers/bcma/

kernel/drivers/rtc/
kernel/drivers/mfd/wm8350.ko
kernel/drivers/misc/eeprom/eeprom_93cx6.ko
kernel/drivers/mfd/mc13783-core.ko
kernel/drivers/mfd/mc13xxx-core.ko
kernel/drivers/mfd/mfd-core.ko
kernel/drivers/mfd/sm501.ko

kernel/arch/powerpc/sysdev/bestcomm/bestcomm-fec.ko

kernel/drivers/virtio/

kernel/drivers/usb/wusbcore/
kernel/drivers/uwb/

kernel/drivers/misc/tifm_core.ko
kernel/drivers/usb/misc/ftdi-elan.ko

kernel/drivers/mfd/pcf50633-core.ko

kernel/drivers/connector/
kernel/drivers/uio/uio.ko
kernel/drivers/uio/uio_hv_generic.ko
kernel/drivers/misc/cb710/
kernel/drivers/mfd/ab3100-core.ko
kernel/drivers/gpu/drm/
# kernel/drivers/gpu/drm/drm.ko
kernel/drivers/video/sis/
kernel/drivers/video/fbdev/hyperv_fb.ko

kernel/drivers/misc/lis3lv02d/lis3lv02d.ko
kernel/drivers/misc/cs5535-mfgpt.ko
kernel/drivers/gpio/
kernel/drivers/ptp/
kernel/drivers/pps/pps_core.ko
kernel/drivers/usb/class/cdc-wdm.ko

kernel/drivers/hv/
kernel/drivers/staging/hv/
kernel/drivers/staging/rtl.*

kernel/drivers/usb/misc/ezusb.ko
kernel/drivers/media/rc/rc-core.ko
kernel/sound/ac97_bus.ko
kernel/drivers/target/target_core_mod.ko

kernel/drivers/leds/led-class.ko
kernel/drivers/rapidio/rapidio.ko
kernel/drivers/ntb/ntb.ko

kernel/drivers/target/iscsi/iscsi_target_mod.ko
kernel/drivers/infiniband/

kernel/drivers/vhost/vringh.ko

kernel/drivers/of/
kernel/drivers/tty/serial/jsm/
kernel/drivers/i2c/
kernel/drivers/nvme/
kernel/drivers/nvdimm/
kernel/drivers/usb/dwc2/
kernel/drivers/usb/dwc3/
kernel/drivers/usb/core/ledtrig-usbport.ko
kernel/drivers/phy/
kernel/drivers/regulator/
kernel/drivers/pci/host/
kernel/drivers/pci/controller/
kernel/drivers/mailbox/
kernel/drivers/pinctrl/
kernel/drivers/watchdog/
kernel/drivers/usb/typec/
kernel/drivers/usb/chipidea/
kernel/drivers/usb/phy/
kernel/drivers/usb/isp1760/

kernel/drivers/dma/bcm2835-dma.ko
kernel/drivers/dma/tegra20-apb-dma.ko

kernel/drivers/virt/vboxguest/

# RPi4
kernel/drivers/reset/reset-raspberrypi.ko
kernel/drivers/clk/bcm/clk-raspberrypi.ko
kernel/drivers/cpufreq/raspberrypi-cpufreq.ko
kernel/drivers/cpufreq/cpufreq-dt.ko
kernel/drivers/mmc/host/sdhci-iproc.ko
kernel/drivers/gpio/gpio-raspberrypi-exp.ko
kernel/drivers/net/mdio/mdio-bcm-unimac.ko

kernel/drivers/reset/reset-rzg2l-usbphy-ctrl.ko

# Lenovo X13s (aarch64)
kernel/drivers/clk/qcom/clk-rpmh.ko
kernel/drivers/clk/qcom/dispcc-sc8280xp.ko
kernel/drivers/clk/qcom/gcc-sc8280xp.ko
kernel/drivers/clk/qcom/gpucc-sc8280xp.ko
kernel/drivers/hwspinlock/qcom_hwspinlock.ko
kernel/drivers/interconnect/qcom/qnoc-sc8280xp.ko
kernel/drivers/leds/rgb/leds-qcom-lpg.ko
kernel/drivers/nvmem/nvmem_qcom-spmi-sdam.ko
kernel/drivers/remoteproc/qcom_q6v5.ko
kernel/drivers/remoteproc/qcom_q6v5_pas.ko
kernel/drivers/soc/qcom/pmic_glink.ko
kernel/drivers/soc/qcom/pmic_glink_altmode.ko
kernel/drivers/soc/qcom/smp2p.ko
kernel/drivers/spmi/spmi-pmic-arb.ko
kernel/drivers/spmi/spmi-mtk-pmif.ko

# Qcom rb3gen2
kernel/drivers/interconnect/qcom/qnoc-sc7280.ko
kernel/drivers/ufs/host/ufs-qcom.ko

kernel/drivers/soc/mediatek/mtk-pmic-wrap.ko
kernel/drivers/power/supply/mt6360_charger.ko
kernel/drivers/nvmem/nvmem_mtk-efuse.ko
kernel/drivers/clk/

kernel/drivers/spi/
kernel/drivers/dma/pl330.ko

# kmps
updates/

# ofed-kmp
-updates/drivers/infiniband/
-updates/net/rds/
-updates/net/sunrpc/
-updates/fs/lockd/
-updates/fs/nfs*

<ppc64le>
# for the source of this module list, see bsc#1213879 comment 35
-kernel/drivers/net/wireless/
-kernel/net/ieee80211/
-kernel/net/mac80211/
-kernel/net/wireless/
-kernel/net/wimax/
-kernel/drivers/gpu/
-kernel/drivers/video/
</ppc64le>
