id: ALP-Dolomite
name: SUSE ALP Dolomite
# ------------------------------------------------------------------------------
# WARNING: When changing the product description delete the translations located
# at the at translations/description key below to avoid using obsolete
# translations!!
# ------------------------------------------------------------------------------
description: 'SUSE ALP Dolomite is a minimum immutable OS core, focused on
  security to provide the bare minimum to run workloads and services as
  containers or virtual machines.'
# Do not manually change any translations! See README.md for more details.
translations:
  description:
    cs: SUSE ALP Dolomite je minimální neměnitelný základní OS, zaměřený na
      bezpečnost pro poskytování úplného minima ke spuštění úloh a služeb v
      kontejnerech nebo virtuálních strojích.
    sv: SUSE ALP Dolomite är en minimal oföränderlig OS-kärna, fokuserad på säkerhet
      för att tillhandahålla det absoluta minimum för att köra
      arbetsbelastningar och tjänster som behållare eller virtuella maskiner.
software:
  mandatory_patterns:
    - alp_base_zypper
    - alp_cockpit
    - alp_hardware
  optional_patterns: null # no optional pattern shared
  mandatory_packages:
    - package: ppc64-diag # Needed for hardware-based installations
      archs: ppc64
  optional_packages: null
  base_product: ALP-Dolomite

security:
  lsm: selinux
  available_lsms:
    # apparmor:
    #   patterns:
    #     - apparmor
    selinux:
      patterns:
        - alp_selinux
      policy: enforcing
    none:
      patterns: null

storage:
  space_policy: delete
  encryption:
    method: luks2
    pbkd_function: pbkdf2
    tpm_luks_open: true
  volumes:
    - "/"
  volume_templates:
    - mount_path: "/"
      filesystem: btrfs
      btrfs:
        snapshots: true
        read_only: true
        default_subvolume: "@"
        subvolumes:
          - path: root
          - path: home
          - path: opt
          - path: srv
          - path: boot/writable
          - path: usr/local
          - path: var
            copy_on_write: false
          # Architecture specific subvolume
          - path: boot/grub2/arm64-efi
            archs: aarch64
          - path: boot/grub2/i386-pc
            archs: x86_64
          - path: boot/grub2/powerpc-ieee1275
            archs: ppc,!board_powernv
          - path: boot/grub2/s390x-emu
            archs: s390
          - path: boot/grub2/x86_64-efi
            archs: x86_64
      size:
        auto: true
      outline:
        required: true
        filesystems:
          - btrfs
        snapshots_configurable: false
        auto_size:
          base_min: 5 GiB
          base_max: 25 GiB
          max_fallback_for:
            - "/var"
    - mount_path: "/var"
      filesystem: btrfs
      mount_options:
        - "x-initrd.mount"
        - "nodatacow"
      size:
        auto: false
        min: 5 GiB
      outline:
        required: false
        filesystems:
          - btrfs
